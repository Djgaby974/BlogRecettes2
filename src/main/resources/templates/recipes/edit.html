<!DOCTYPE html>
<html th:replace="~{layout/main :: html(content=~{::content})}">
<div th:fragment="content">
    <div class="container">
        <h1>Modifier la recette</h1>
        
        <form th:action="@{/recipes/{id}/edit(id=${recipe.id})}" method="post" th:object="${recipe}">
            <div class="mb-3">
                <label for="title" class="form-label">Titre</label>
                <input type="text" class="form-control" id="title" th:field="*{title}" required>
            </div>
            
            <div class="mb-3">
                <label for="description" class="form-label">Description</label>
                <textarea class="form-control" id="description" th:field="*{description}" rows="3" required></textarea>
            </div>
            
            <div class="mb-3">
                <label for="prepTime" class="form-label">Temps de préparation (minutes)</label>
                <input type="number" class="form-control" id="prepTime" th:field="*{prepTime}" required>
            </div>
            
            <div class="mb-3">
                <label for="cookTime" class="form-label">Temps de cuisson (minutes)</label>
                <input type="number" class="form-control" id="cookTime" th:field="*{cookTime}" required>
            </div>
            
            <div class="mb-3">
                <label for="servingSize" class="form-label">Nombre de portions</label>
                <input type="number" class="form-control" id="servingSize" th:field="*{servingSize}" required>
            </div>
            
            <div class="mb-3">
                <label for="category" class="form-label">Catégorie</label>
                <select class="form-select" id="category" th:field="*{category}" required>
                    <option value="">Sélectionnez une catégorie</option>
                    <option th:each="cat : ${categories}" 
                            th:value="${cat.id}" 
                            th:text="${cat.name}">
                    </option>
                </select>
            </div>
            
            <div class="mb-3">
                <label for="difficulty" class="form-label">Difficulté</label>
                <select class="form-select" id="difficulty" th:field="*{difficulty}" required>
                    <option value="">Sélectionnez une difficulté</option>
                    <option th:each="diff : ${difficulties}" 
                            th:value="${diff}" 
                            th:text="${diff}">
                    </option>
                </select>
            </div>
            
            <div class="mb-3">
                <label for="ingredients" class="form-label">Ingrédients</label>
                <textarea class="form-control" id="ingredients" th:field="*{ingredients}" rows="5" required></textarea>
                <small class="form-text text-muted">Entrez chaque ingrédient sur une nouvelle ligne</small>
            </div>
            
            <div class="mb-3">
                <label for="instructions" class="form-label">Instructions</label>
                <textarea class="form-control" id="instructions" th:field="*{instructions}" rows="5" required></textarea>
                <small class="form-text text-muted">Entrez chaque étape sur une nouvelle ligne</small>
            </div>
            
            <div class="mb-3">
                <label for="imageUrls" class="form-label">URLs des images</label>
                <textarea class="form-control" id="imageUrls" th:field="*{imageUrls}" rows="3"></textarea>
                <small class="form-text text-muted">Entrez chaque URL sur une nouvelle ligne</small>
            </div>
            
            <button type="submit" class="btn btn-primary">Mettre à jour la recette</button>
            <a th:href="@{/recipes/{id}(id=${recipe.id})}" class="btn btn-secondary">Annuler</a>
        </form>
    </div>
</div>
</html>
